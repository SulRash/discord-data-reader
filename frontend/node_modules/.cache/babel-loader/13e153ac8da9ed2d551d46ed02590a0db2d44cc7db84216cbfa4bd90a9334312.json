{"ast":null,"code":"const inputContainer = document.getElementById(\"inputContainer\");\nconst loadingContainer = document.getElementById(\"loadingContainer\");\nconst messagesContainer = document.getElementById(\"messagesContainer\");\nconst userList = document.getElementById(\"userList\");\nconst messageList = document.getElementById(\"messageList\");\nconst backBtn = document.getElementById(\"backBtn\");\ndocument.getElementById(\"submitBtn\").onclick = async () => {\n  const userId = document.getElementById(\"userId\").value;\n  const dataPath = document.getElementById(\"dataPath\").value;\n  inputContainer.classList.add(\"is-hidden\");\n  loadingContainer.classList.remove(\"is-hidden\");\n  try {\n    const response = await axios.post(\"/api/messages\", {\n      data_path: dataPath\n    }, {\n      params: {\n        user_id: userId\n      }\n    });\n    const messages = response.data;\n    const users = {};\n    messages.forEach(message => {\n      if (!users[message.author]) {\n        users[message.author] = [];\n      }\n      users[message.author].push(message);\n    });\n    Object.entries(users).forEach(_ref => {\n      let [username, userMessages] = _ref;\n      const userBubble = document.createElement(\"div\");\n      userBubble.classList.add(\"column\", \"is-one-quarter\", \"user-bubble\");\n      userBubble.textContent = username;\n      userBubble.onclick = () => {\n        displayMessages(userMessages);\n      };\n      userList.appendChild(userBubble);\n    });\n    loadingContainer.classList.add(\"is-hidden\");\n    messagesContainer.classList.remove(\"is-hidden\");\n  } catch (err) {\n    console.error(err);\n    alert(\"An error occurred while processing your request.\");\n    inputContainer.classList.remove(\"is-hidden\");\n    loadingContainer.classList.add(\"is-hidden\");\n  }\n};\nfunction displayMessages(messages) {\n  userList.classList.add(\"is-hidden\");\n  messageList.innerHTML = '';\n  messages.forEach(message => {\n    const messageElem = document.createElement(\"div\");\n    messageElem.classList.add(\"message\");\n    messageElem.textContent = message.content;\n    messageList.appendChild(messageElem);\n  });\n  messageList.classList.remove(\"is-hidden\");\n  backBtn.classList.remove(\"is-hidden\");\n  backBtn.onclick = () => {\n    messageList.classList.add(\"is-hidden\");\n    backBtn.classList.add(\"is-hidden\");\n    userList.classList.remove(\"is-hidden\");\n  };\n}","map":{"version":3,"names":["inputContainer","document","getElementById","loadingContainer","messagesContainer","userList","messageList","backBtn","onclick","userId","value","dataPath","classList","add","remove","response","axios","post","data_path","params","user_id","messages","data","users","forEach","message","author","push","Object","entries","_ref","username","userMessages","userBubble","createElement","textContent","displayMessages","appendChild","err","console","error","alert","innerHTML","messageElem","content"],"sources":["/home/sultan/Documents/GitHub/discord-data-reader/discord-data-viewer/src/App.js"],"sourcesContent":["const inputContainer = document.getElementById(\"inputContainer\");\nconst loadingContainer = document.getElementById(\"loadingContainer\");\nconst messagesContainer = document.getElementById(\"messagesContainer\");\nconst userList = document.getElementById(\"userList\");\nconst messageList = document.getElementById(\"messageList\");\nconst backBtn = document.getElementById(\"backBtn\");\n\ndocument.getElementById(\"submitBtn\").onclick = async () => {\n    const userId = document.getElementById(\"userId\").value;\n    const dataPath = document.getElementById(\"dataPath\").value;\n    \n    inputContainer.classList.add(\"is-hidden\");\n    loadingContainer.classList.remove(\"is-hidden\");\n\n    try {\n        const response = await axios.post(\"/api/messages\", { data_path: dataPath }, { params: { user_id: userId } });\n        const messages = response.data;\n\n        const users = {};\n\n        messages.forEach(message => {\n            if (!users[message.author]) {\n                users[message.author] = [];\n            }\n            users[message.author].push(message);\n        });\n\n        Object.entries(users).forEach(([username, userMessages]) => {\n            const userBubble = document.createElement(\"div\");\n            userBubble.classList.add(\"column\", \"is-one-quarter\", \"user-bubble\");\n            userBubble.textContent = username;\n            userBubble.onclick = () => {\n                displayMessages(userMessages);\n            };\n            userList.appendChild(userBubble);\n        });\n\n        loadingContainer.classList.add(\"is-hidden\");\n        messagesContainer.classList.remove(\"is-hidden\");\n    } catch (err) {\n        console.error(err);\n        alert(\"An error occurred while processing your request.\");\n        inputContainer.classList.remove(\"is-hidden\");\n        loadingContainer.classList.add(\"is-hidden\");\n    }\n};\n\nfunction displayMessages(messages) {\n    userList.classList.add(\"is-hidden\");\n    messageList.innerHTML = '';\n\n    messages.forEach(message => {\n        const messageElem = document.createElement(\"div\");\n        messageElem.classList.add(\"message\");\n        messageElem.textContent = message.content;\n        messageList.appendChild(messageElem);\n    });\n\n    messageList.classList.remove(\"is-hidden\");\n    backBtn.classList.remove(\"is-hidden\");\n\n    backBtn.onclick = () => {\n        messageList.classList.add(\"is-hidden\");\n        backBtn.classList.add(\"is-hidden\");\n        userList.classList.remove(\"is-hidden\");\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}