{"ast":null,"code":"import axios from \"axios\";\nconst inputContainer = document.getElementById(\"inputContainer\");\nconst loadingContainer = document.getElementById(\"loadingContainer\");\nconst messagesContainer = document.getElementById(\"messagesContainer\");\nconst userList = document.getElementById(\"userList\");\nconst messageList = document.getElementById(\"messageList\");\nconst backBtn = document.getElementById(\"backBtn\");\ndocument.getElementById(\"submitBtn\").onclick = async () => {\n  const userId = document.getElementById(\"userId\").value;\n  const dataPath = document.getElementById(\"dataPath\").value;\n  inputContainer.classList.add(\"d-none\");\n  loadingContainer.classList.remove(\"d-none\");\n  try {\n    const response = await axios.post(\"/api/messages\", {\n      data_path: dataPath\n    }, {\n      params: {\n        user_id: userId\n      }\n    });\n    const messages = response.data;\n    const users = {};\n    messages.forEach(message => {\n      if (!users[message.author]) {\n        users[message.author] = [];\n      }\n      users[message.author].push(message);\n    });\n    Object.entries(users).forEach(_ref => {\n      let [username, userMessages] = _ref;\n      const userBubble = document.createElement(\"div\");\n      userBubble.classList.add(\"col-md-3\", \"user-bubble\", \"p-3\", \"bg-light\", \"mb-3\", \"text-center\");\n      userBubble.textContent = username;\n      userBubble.onclick = () => {\n        displayMessages(userMessages);\n      };\n      userList.appendChild(userBubble);\n    });\n    loadingContainer.classList.add(\"d-none\");\n    messagesContainer.classList.remove(\"d-none\");\n  } catch (err) {\n    console.error(err);\n    alert(\"An error occurred while processing your request.\");\n    inputContainer.classList.remove(\"d-none\");\n    loadingContainer.classList.add(\"d-none\");\n  }\n};\nfunction displayMessages(messages) {\n  userList.classList.add(\"d-none\");\n  messageList.innerHTML = \"\";\n  messages.forEach(message => {\n    const messageElem = document.createElement(\"div\");\n    messageElem.classList.add(\"message\", \"p-2\", \"bg-light\", \"mb-2\");\n    messageElem.textContent = message.content;\n    messageList.appendChild(messageElem);\n  });\n  messageList.classList.remove(\"d-none\");\n  backBtn.classList.remove(\"d-none\");\n  backBtn.onclick = () => {\n    messageList.classList.add(\"d-none\");\n    backBtn.classList.add(\"d-none\");\n    userList.classList.remove(\"d-none\");\n  };\n}","map":{"version":3,"names":["axios","inputContainer","document","getElementById","loadingContainer","messagesContainer","userList","messageList","backBtn","onclick","userId","value","dataPath","classList","add","remove","response","post","data_path","params","user_id","messages","data","users","forEach","message","author","push","Object","entries","_ref","username","userMessages","userBubble","createElement","textContent","displayMessages","appendChild","err","console","error","alert","innerHTML","messageElem","content"],"sources":["/home/sultan/Documents/GitHub/discord-data-reader/discord-data-viewer/src/App.js"],"sourcesContent":["import axios from \"axios\";\n\nconst inputContainer = document.getElementById(\"inputContainer\");\nconst loadingContainer = document.getElementById(\"loadingContainer\");\nconst messagesContainer = document.getElementById(\"messagesContainer\");\nconst userList = document.getElementById(\"userList\");\nconst messageList = document.getElementById(\"messageList\");\nconst backBtn = document.getElementById(\"backBtn\");\n\ndocument.getElementById(\"submitBtn\").onclick = async () => {\n  const userId = document.getElementById(\"userId\").value;\n  const dataPath = document.getElementById(\"dataPath\").value;\n\n  inputContainer.classList.add(\"d-none\");\n  loadingContainer.classList.remove(\"d-none\");\n\n  try {\n    const response = await axios.post(\"/api/messages\", { data_path: dataPath }, { params: { user_id: userId } });\n    const messages = response.data;\n\n    const users = {};\n\n    messages.forEach(message => {\n      if (!users[message.author]) {\n        users[message.author] = [];\n      }\n      users[message.author].push(message);\n    });\n\n    Object.entries(users).forEach(([username, userMessages]) => {\n      const userBubble = document.createElement(\"div\");\n      userBubble.classList.add(\"col-md-3\", \"user-bubble\", \"p-3\", \"bg-light\", \"mb-3\", \"text-center\");\n      userBubble.textContent = username;\n      userBubble.onclick = () => {\n        displayMessages(userMessages);\n      };\n      userList.appendChild(userBubble);\n    });\n\n    loadingContainer.classList.add(\"d-none\");\n    messagesContainer.classList.remove(\"d-none\");\n  } catch (err) {\n    console.error(err);\n    alert(\"An error occurred while processing your request.\");\n    inputContainer.classList.remove(\"d-none\");\n    loadingContainer.classList.add(\"d-none\");\n  }\n};\n\nfunction displayMessages(messages) {\n  userList.classList.add(\"d-none\");\n  messageList.innerHTML = \"\";\n\n  messages.forEach(message => {\n    const messageElem = document.createElement(\"div\");\n    messageElem.classList.add(\"message\", \"p-2\", \"bg-light\", \"mb-2\");\n    messageElem.textContent = message.content;\n    messageList.appendChild(messageElem);\n  });\n\n  messageList.classList.remove(\"d-none\");\n  backBtn.classList.remove(\"d-none\");\n\n  backBtn.onclick = () => {\n    messageList.classList.add(\"d-none\");\n    backBtn.classList.add(\"d-none\");\n    userList.classList.remove(\"d-none\");\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}